# 图片综合处理工具小程序

一款功能丰富的微信小程序，提供多种图片处理功能，包括证件照制作、图片压缩、背景去除和图像识别等功能。

## 主要功能

### 1. 证件照制作
- 支持一寸、二寸等多种规格
- 自动人像抠图与背景颜色合成
- 精确裁剪符合标准尺寸
- 支持白色、蓝色、红色等多种背景颜色
- 高质量图片导出

### 2. 图片压缩
- 智能压缩算法，保证质量的同时减小体积
- 可选择压缩质量
- 原图与压缩后对比
- 一键保存到本地相册

### 3. 背景去除
- 集成Remove.bg API进行智能抠图
- 自动识别前景主体
- 透明背景输出
- 高精度边缘处理

### 4. 图像识别（OCR）
- 识别图片中的文字内容
- 支持多种语言识别
- 精准提取文本信息

## 技术实现

- 开发框架：微信小程序原生框架
- 图片处理：Canvas API
- 智能抠图：Remove.bg API
- 文件管理：微信文件系统API
- 图片选择：微信媒体API

## 项目结构

```
miniprogram/
├── app.js                 // 应用入口
├── app.json               // 全局配置
├── app.wxss               // 全局样式
├── pages/                 // 页面目录
│   ├── index/             // 首页
│   ├── compress/          // 图片压缩
│   ├── removebg/          // 背景去除
│   ├── idphoto/           // 证件照制作
│   └── ocr/               // 图像识别
├── components/            // 自定义组件
├── images/                // 静态资源
└── utils/                 // 工具函数
```

## 核心API使用

### 证件照制作

证件照制作功能使用Canvas进行图像处理，并通过Remove.bg API进行人像抠图：

1. 用户选择照片尺寸和背景颜色
2. 上传头像照片
3. 调用Remove.bg API进行抠图
4. 将抠图结果与选定背景颜色合成
5. 根据证件照标准尺寸进行裁剪
6. 导出最终结果

### 图片压缩

图片压缩功能利用Canvas的drawImage和toTempFilePath方法实现：

1. 用户选择需要压缩的图片
2. 根据设定的压缩质量进行处理
3. 显示压缩前后对比和体积减少信息
4. 用户可一键保存压缩结果

### 背景去除

背景去除功能直接集成了Remove.bg API：

1. 用户上传图片
2. 调用Remove.bg API处理图片
3. 返回透明背景的图片结果
4. 提供预览和保存功能

## 使用说明

### 安装和运行

1. 克隆本仓库到本地
2. 使用微信开发者工具打开项目
3. 配置Remove.bg API密钥（在`pages/removebg/removebg.js`和`pages/idphoto/idphoto.js`中）
4. 编译运行项目

### 注意事项

- Remove.bg API需要申请密钥并有使用限制，请替换为你自己的API密钥
- 小程序需要配置以下API权限：
  - 照片选择
  - 相册保存
  - 文件系统访问

## 未来计划

- [ ] 添加批量处理功能
- [ ] 增加更多证件照尺寸选项
- [ ] 优化人脸检测算法
- [ ] 添加更多背景颜色和纹理选择
- [ ] 支持自定义裁剪

## 许可证

本项目使用MIT许可证。请查阅LICENSE文件获取更多信息。

## 致谢

- [Remove.bg](https://www.remove.bg/) - 提供强大的抠图API
- 微信小程序团队 - 提供开发平台和文档 